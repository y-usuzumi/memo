# 数据库

## MyISAM和InnoDB的区别

|Metric|MyISAM|InnoDB|备注|
|---|---|---|---|
|事务处理|不支持|支持||
|外键|不支持|支持||
|行级锁|不支持|支持||
|FULLTEXT类型的索引|支持|不支持||
|保存表行数|是|否||
|AUTO_INCREMENT是否需要单独索引|否|是|MyISAM可以联合索引|
|DELETE FROM table|重建表|一行行删除||
|LOAD TABLE FROM MASTER||不起作用||
|其他||||

## 索引的原理

### BTree

自平衡搜索多叉树。B+Tree是BTree的一个变种。

相当于二叉搜索树和二分查找的合体。

### MongoDB索引原理

#### mmapv1

文件id + offset

#### wiredtiger

key

### 聚簇索引 vs 非聚簇索引

* 聚簇索引：叶子节点是数据节点。
* 非聚簇索引：叶子节点仍然是索引节点，只不过有指向数据块的指针。
