# 树

## AVL树

## 红黑树

一种平衡二叉查找树。

特点：

1. 节点要么是红的，要么是黑的。
1. 根节点和叶子节点 (NIL) 是黑的。
1. 如果节点是红的，那他的儿子们都是黑的。
1. 从一个节点出发到它下面所有的叶子节点经过的路径，都包含相同数量的黑节点。

其他特点：

* 节点需要一个bit来存储颜色信息。
* 最长路径（从根节点到最远的叶子节点）不会超过最短路径（从根节点到最近的叶子节点）长度的两倍。
  * 最短路径仅包括黑节点
  * 最长路径包括交替出现的红黑节点

属性：

* 黑高度：从某节点出发到任一个叶子节点经历的黑节点的数目（不包括自己）。

支持的操作：

* 查找 O(log n)
* 插入 O(log n)（需要旋转）
* 删除 O(log n)（需要旋转）

空间复杂度：O(n)

### 插入策略

1. 插入Z，涂上红色
1. 重新涂色和旋转节点来解决违反规则

具体来说：
1. 当Z为根节点时，把它标为黑色
1. 当Z的叔叔为红色时，重新上色
1. 当Z的叔叔为黑色（三角形），旋转Z的爸爸
1. 当Z的叔叔为黑色（线形），旋转Z的爷爷，重新上色

**TODO**
